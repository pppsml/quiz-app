class SelectQuizMenu{constructor(){this.totalPages=Math.ceil(data.quizNames.length/config.itemsPerPage),this.currentPage=0,this.selectedPage=1,this.loadMenu()}loadMenu(){if(selectQuizContainer.innerHTML="",this.totalPages){const e=this.createPages();selectQuizContainer.append(e),selectQuizContainer.append(this.createToolbar()),this.updatePage(e),this.toggleQuizData(e)}}createPages(){const e=getElement("div",["select__quiz-page__container"]);for(this.currentPage;this.currentPage<this.totalPages;this.currentPage++){const t=this.createSelectPage();let a=data.quizNames.length-config.itemsPerPage*this.currentPage;a>config.itemsPerPage&&config.itemsPerPage;for(let e=0;e<a;e++)t.append(this.createSelectOption(e));e.append(t)}return e}createSelectPage(){return getElement("ul",["select__page"])}createSelectOption(e){const t=data.docData[data.quizNames[config.itemsPerPage*this.currentPage+e]],a=t.name,n=t.id,i=t.likes,s=data.isLikedQuizzes.indexOf(n)>=0,d=getElement("li",["text"],{textContent:`${a}`,id:`${n}`});return d.append(getElement("div",["text-minimal","select__id"],{innerHTML:`<span>id: ${n}</span>`})),d.append(getElement("div",["row","text-minimal","select__likes"],{innerHTML:`<i class="fas fa-heart select__likes-icon"></i><span>${i}</span>`})),s&&d.append(getElement("div",["isLiked"],{innerHTML:'<i class="fas fa-heart"></i>'})),d}createToolbar(){const e=getElement("div",["select__quiz-toolbar"]);e.append(getElement("p",["text"],{id:"currentPage",textContent:`${this.selectedPage}/${this.totalPages}`}));const t=getElement("button",["btn__styled","btn__small"],{id:"prevPageBtn",textContent:"Prev page"}),a=getElement("button",["btn__styled","btn__small"],{id:"nextPageBtn",textContent:"Next page"});return t.addEventListener("click",this.decreasePage),a.addEventListener("click",this.increasePage),e.append(t),e.append(a),e}toggleQuizData(e){const t=document.querySelector(".quiz__container>p.text"),a=e.querySelectorAll("li.text"),n=a[0];t.textContent=`Selected quiz: ${n.firstChild.textContent}`,data.currentQuizData=data.docData[n.id].quiz,data.currentQuizId=data.docData[n.id].id,n.classList.add("active"),e.addEventListener("click",(e=>{if(e&&"LI"==e.target.tagName||"DIV"==e.target.tagName||"I"==e.target.tagName||"SPAN"==e.target.tagName){let n=e.target;switch(n.tagName){case"DIV":n=n.parentElement;break;case"I":n=n.parentElement.parentElement;break;case"SPAN":n=n.parentElement.parentElement}a.forEach((e=>{e.classList.remove("active"),n.classList.add("active")})),t.textContent=`Selected quiz: ${n.firstChild.textContent}`,data.currentQuizData=data.docData[n.id].quiz,data.currentQuizId=data.docData[n.id].id}}))}increasePage(){this.selectedPage++,this.updatePage()}decreasePage(){this.selectedPage++,this.updatePage()}updatePage(e){const t=document.getElementById("prevPageBtn"),a=document.getElementById("nextPageBtn"),n=document.getElementById("currentPage"),i=e.offsetWidth;n.textContent=`${this.selectedPage}/${this.totalPages}`,e.style.transform=`translateX(-${i*(this.selectedPage-1)}px)`,this.selectedPage>1?t.disabled=!1:t.disabled=!0,this.selectedPage<this.totalPages?a.disabled=!1:a.disabled=!0}}